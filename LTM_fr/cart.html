<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh To√°n - N·ªôi Th·∫•t Sang Tr·ªçng</title>
     <link rel="stylesheet" href="cart.css">
</head>
<body>
    <!-- Header -->
    <header class="checkout-header">
        <div class="header-content">
            <a href="index.html" class="logo">N·ªôi<span>Th·∫•t</span></a>
            
            <div class="checkout-steps">
                <div class="step completed">
                    <span class="step-number">1</span>
                    <span>Gi·ªè h√†ng</span>
                </div>
                <div class="step active">
                    <span class="step-number">2</span>
                    <span>Thanh to√°n</span>
                </div>
                <div class="step">
                    <span class="step-number">3</span>
                    <span>Ho√†n t·∫•t</span>
                </div>
            </div>

            <button class="back-btn" onclick="goBack()">
                ‚Üê Quay l·∫°i gi·ªè h√†ng
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="checkout-container">
        <!-- Checkout Form -->
        <div class="checkout-form">
            <form id="checkoutForm">
                <!-- Shipping Information -->
                <div class="form-section">
                    <h3 class="section-title">Th√¥ng tin giao h√†ng</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">H·ªç <span class="required">*</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">T√™n <span class="required">*</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="address">ƒê·ªãa ch·ªâ <span class="required">*</span></label>
                        <input type="text" id="address" name="address" placeholder="S·ªë nh√†, t√™n ƒë∆∞·ªùng" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">T·ªânh/Th√†nh ph·ªë <span class="required">*</span></label>
                            <select id="city" name="city" required onchange="updateDistricts()">
                                <option value="">Ch·ªçn t·ªânh/th√†nh ph·ªë</option>
                                <option value="hcm">TP. H·ªì Ch√≠ Minh</option>
                                <option value="hanoi">H√† N·ªôi</option>
                                <option value="danang">ƒê√† N·∫µng</option>
                                <option value="cantho">C·∫ßn Th∆°</option>
                                <option value="haiphong">H·∫£i Ph√≤ng</option>
                                <option value="binhduong">B√¨nh D∆∞∆°ng</option>
                                <option value="dongnai">ƒê·ªìng Nai</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="district">Qu·∫≠n/Huy·ªán <span class="required">*</span></label>
                            <select id="district" name="district" required>
                                <option value="">Ch·ªçn qu·∫≠n/huy·ªán</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="notes">Ghi ch√∫ ƒë∆°n h√†ng</label>
                        <textarea id="notes" name="notes" rows="3" placeholder="Ghi ch√∫ v·ªÅ ƒë∆°n h√†ng, v√≠ d·ª•: giao h√†ng trong gi·ªù h√†nh ch√≠nh..."></textarea>
                    </div>
                </div>

                <!-- Payment Method -->
                <div class="form-section">
                    <h3 class="section-title">Ph∆∞∆°ng th·ª©c thanh to√°n</h3>
                    
                    <div class="payment-methods">
                        <div class="payment-method active" data-method="cod" onclick="selectPayment('cod')">
                            <div class="payment-icon">üíµ</div>
                            <div class="payment-name">Thanh to√°n khi nh·∫≠n h√†ng</div>
                            <div class="payment-description">Tr·∫£ ti·ªÅn m·∫∑t khi nh·∫≠n h√†ng</div>
                        </div>
                        
                        <div class="payment-method" data-method="bank" onclick="selectPayment('bank')">
                            <div class="payment-icon">üè¶</div>
                            <div class="payment-name">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</div>
                            <div class="payment-description">Chuy·ªÉn kho·∫£n tr∆∞·ªõc khi giao</div>
                        </div>
                        
                        <div class="payment-method" data-method="momo" onclick="selectPayment('momo')">
                            <div class="payment-icon">üì±</div>
                            <div class="payment-name">V√≠ MoMo</div>
                            <div class="payment-description">Thanh to√°n qua v√≠ ƒëi·ªán t·ª≠</div>
                        </div>
                        
                        <div class="payment-method" data-method="card" onclick="selectPayment('card')">
                            <div class="payment-icon">üí≥</div>
                            <div class="payment-name">Th·∫ª t√≠n d·ª•ng/ghi n·ª£</div>
                            <div class="payment-description">Visa, MasterCard, JCB</div>
                        </div>
                    </div>

                    <!-- Card Details -->
                    <div class="card-details" id="cardDetails">
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">Th√¥ng tin th·∫ª</h4>
                        <div class="form-group">
                            <label for="cardNumber">S·ªë th·∫ª <span class="required">*</span></label>
                            <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry">Ng√†y h·∫øt h·∫°n <span class="required">*</span></label>
                                <input type="text" id="expiry" name="expiry" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="cvv">CVV <span class="required">*</span></label>
                                <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cardName">T√™n ch·ªß th·∫ª <span class="required">*</span></label>
                            <input type="text" id="cardName" name="cardName" placeholder="NGUYEN VAN A">
                        </div>
                    </div>

                    <!-- Bank Transfer Details -->
                    <div class="card-details" id="bankDetails">
                        <h4 style="margin-bottom: 15px; color: var(--dark-color);">Th√¥ng tin chuy·ªÉn kho·∫£n</h4>
                        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px;">
                            <p><strong>Ng√¢n h√†ng:</strong> Vietcombank</p>
                            <p><strong>S·ªë t√†i kho·∫£n:</strong> 1234567890</p>
                            <p><strong>Ch·ªß t√†i kho·∫£n:</strong> CONG TY NOI THAT</p>
                            <p><strong>N·ªôi dung:</strong> [M√£ ƒë∆°n h√†ng] + H·ªç t√™n</p>
                            <p style="color: #dc3545; margin-top: 10px; font-size: 14px;">
                                <strong>L∆∞u √Ω:</strong> Vui l√≤ng chuy·ªÉn kho·∫£n ƒë√∫ng s·ªë ti·ªÅn v√† ghi r√µ n·ªôi dung ƒë·ªÉ ch√∫ng t√¥i x·ª≠ l√Ω ƒë∆°n h√†ng nhanh ch√≥ng.
                            </p>
                        </div>
                    </div>

                    <div class="security-info">
                        <span class="security-icon">üîí</span>
                        <span class="security-text">Th√¥ng tin c·ªßa b·∫°n ƒë∆∞·ª£c b·∫£o m·∫≠t v√† m√£ h√≥a SSL 256-bit</span>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-large">
                    <span id="orderButtonText">Ho√†n t·∫•t ƒë∆°n h√†ng</span>
                </button>
            </form>
        </div>

        <!-- Order Summary -->
        <div class="order-summary">
            <h3 class="summary-title">T√≥m t·∫Øt ƒë∆°n h√†ng</h3>
            
            <div id="orderItems">
                <!-- Sample items - will be populated by JavaScript -->
                <div class="order-item">
                    <img src="/api/placeholder/60/60" alt="Gh·∫ø Sofa Scandinavian" class="item-image">
                    <div class="item-info">
                        <div class="item-name">Gh·∫ø Sofa Scandinavian</div>
                        <div class="item-details">S·ªë l∆∞·ª£ng: 1</div>
                    </div>
                    <div class="item-price">5.900.000‚Ç´</div>
                </div>
                
                <div class="order-item">
                    <img src="/api/placeholder/60/60" alt="B√†n ƒÉn g·ªó s·ªìi" class="item-image">
                    <div class="item-info">
                        <div class="item-name">B√†n ƒÉn g·ªó s·ªìi</div>
                        <div class="item-details">S·ªë l∆∞·ª£ng: 1</div>
                    </div>
                    <div class="item-price">7.500.000‚Ç´</div>
                </div>
            </div>

            <div class="discount-code">
                <h4 style="margin-bottom: 15px; color: var(--dark-color);">M√£ gi·∫£m gi√°</h4>
                <div class="discount-input">
                    <input type="text" placeholder="Nh·∫≠p m√£ gi·∫£m gi√°" id="discountCode">
                    <button type="button" class="apply-btn" onclick="applyDiscount()">√Åp d·ª•ng</button>
                </div>
            </div>

            <div class="summary-line">
                <span>T·∫°m t√≠nh:</span>
                <span id="subtotal">13.400.000‚Ç´</span>
            </div>
            
            <div class="summary-line">
                <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
                <span id="shippingFee">Mi·ªÖn ph√≠</span>
            </div>
            
            <div class="summary-line" id="discountLine" style="display: none;">
                <span>Gi·∫£m gi√°:</span>
                <span id="discountAmount">-0‚Ç´</span>
            </div>
            
            <div class="summary-line">
                <span>T·ªïng c·ªông:</span>
                <span id="totalAmount">13.400.000‚Ç´</span>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">‚úÖ</div>
            <h3 class="success-title">ƒê·∫∑t h√†ng th√†nh c√¥ng!</h3>
            <p class="success-message">
                C·∫£m ∆°n b·∫°n ƒë√£ mua s·∫Øm t·∫°i N·ªôi Th·∫•t. Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n trong th·ªùi gian s·ªõm nh·∫•t ƒë·ªÉ x√°c nh·∫≠n ƒë∆°n h√†ng.
            </p>
            <div class="order-number">
                M√£ ƒë∆°n h√†ng: <span id="orderNumber">#NH2024001</span>
            </div>
            <div style="display: flex; gap: 15px;">
                <button class="btn btn-outline" onclick="goToHome()">V·ªÅ trang ch·ªß</button>
                <button class="btn btn-primary" onclick="trackOrder()">Theo d√µi ƒë∆°n h√†ng</button>
            </div>
        </div>
    </div>

    <script>
    const cityDistricts = {
        'hcm': ['Qu·∫≠n 1', 'Qu·∫≠n 2', 'Qu·∫≠n 3', 'Qu·∫≠n 4', 'Qu·∫≠n 5', 'Qu·∫≠n 6', 'Qu·∫≠n 7', 'Qu·∫≠n 8', 'Qu·∫≠n 9', 'Qu·∫≠n 10', 'Qu·∫≠n 11', 'Qu·∫≠n 12', 'B√¨nh Th·∫°nh', 'G√≤ V·∫•p', 'Ph√∫ Nhu·∫≠n', 'T√¢n B√¨nh', 'T√¢n Ph√∫', 'Th·ªß ƒê·ª©c'],
        'hanoi': ['Ba ƒê√¨nh', 'Ho√†n Ki·∫øm', 'T√¢y H·ªì', 'Long Bi√™n', 'C·∫ßu Gi·∫•y', 'ƒê·ªëng ƒêa', 'Hai B√† Tr∆∞ng', 'Ho√†ng Mai', 'Thanh Xu√¢n', 'S√≥c S∆°n', 'ƒê√¥ng Anh', 'Gia L√¢m', 'Nam T·ª´ Li√™m', 'B·∫Øc T·ª´ Li√™m'],
        'danang': ['H·∫£i Ch√¢u', 'Thanh Kh√™', 'S∆°n Tr√†', 'Ng≈© H√†nh S∆°n', 'Li√™n Chi·ªÉu', 'C·∫©m L·ªá', 'H√≤a Vang', 'Ho√†ng Sa'],
        'cantho': ['Ninh Ki·ªÅu', '√î M√¥n', 'B√¨nh Thu·ª∑', 'C√°i RƒÉng', 'Th·ªët N·ªët', 'Vƒ©nh Th·∫°nh', 'C·ªù ƒê·ªè', 'Phong ƒêi·ªÅn', 'Th·ªõi Lai'],
        'haiphong': ['H·ªìng B√†ng', 'Ng√¥ Quy·ªÅn', 'L√™ Ch√¢n', 'H·∫£i An', 'Ki·∫øn An', 'ƒê·ªì S∆°n', 'D∆∞∆°ng Kinh', 'Thu·ª∑ Nguy√™n'],
        'binhduong': ['Th·ªß D·∫ßu M·ªôt', 'Dƒ© An', 'Thu·∫≠n An', 'T√¢n Uy√™n', 'B√†u B√†ng', 'B·∫øn C√°t', 'Ph√∫ Gi√°o', 'D·∫ßu Ti·∫øng', 'B·∫Øc T√¢n Uy√™n'],
        'dongnai': ['Bi√™n H√≤a', 'Long Kh√°nh', 'T√¢n Ph√∫', 'Vƒ©nh C·ª≠u', 'ƒê·ªãnh Qu√°n', 'Tr·∫£ng Bom', 'Th·ªëng Nh·∫•t', 'C·∫©m M·ªπ', 'Xu√¢n L·ªôc', 'Nh∆°n Tr·∫°ch']
    };

    function updateDistricts() {
        const citySelect = document.getElementById("city");
        const districtSelect = document.getElementById("district");
        const selectedCity = citySelect.value;

        // X√≥a to√†n b·ªô qu·∫≠n/huy·ªán hi·ªán t·∫°i
        districtSelect.innerHTML = '<option value="">Ch·ªçn qu·∫≠n/huy·ªán</option>';

        if (cityDistricts[selectedCity]) {
            cityDistricts[selectedCity].forEach(function(district) {
                const option = document.createElement("option");
                option.value = district.toLowerCase().replace(/\s+/g, '-');
                option.textContent = district;
                districtSelect.appendChild(option);
            });
        }
    }
</script>
